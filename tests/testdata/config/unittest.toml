# ===============================================================
# Zentrale Konfigurationsdatei für restix
#
# In String-Werten können folgende Variablen verwendet werden:
# ${HOST} - Hostname
# ${USER} - Benutzername
# ${YEAR} - Jahr
# ===============================================================

# ===============================================================
# Zugriffsdaten für restic
# ===============================================================
# Standard: Passwort-Abfrage
# type = "prompt"
# Passwort im Klartext
# type = "text"
# value = "geheim"
# Passwort ist in der angegebenen Datei enthalten
# type = "file"
# value = "pw.txt"
# Passwort ist auf FIDO2-Token
# type = "token"
[[credentials]]
name = "standard"
comment = ""
type = "file"
value = "pw.txt"

[[scope]]
name = "minimal"
comment = "Minimaler Backup-Umfang für Upload ins Internet"
includes = "minimal.list"
excludes = "minimal_excludes.list"
ignores = "ignores.list"

[[scope]]
name = "vollstaendig"
comment = "Vollständiger Backup-Umfang für lokale Ziele"
includes = "full.list"
excludes = "full_excludes.list"
ignores = "ignores.list"

[[target]]
alias = "inetsrv"
comment = "Internet-Server"
location = "sftp:restic_netcup:data"
scope = "minimal"
credentials = "standard"

[[target]]
alias = "localsrv"
comment = "Heim-Server"
location = "sftp:restic_schakal:data"
scope = "vollstaendig"
credentials = "standard"

[[target]]
alias = "localdir"
comment = "lokales Verzeichnis"
location = "/var/restix"
scope = "minimal"
credentials = "standard"
access_rights = {year = "${USER}:sommer,770", host = "${USER}:sommer,770", user = "${USER}:sommer,770"}

[[target]]
alias = "sticka"
comment = "USB-Stick Backup-A"
location = "/media/${USER}/BACKUP-A/restix"
scope = "vollstaendig"
credentials = "standard"
access_rights = {year = "${USER}:sommer,770", host = "${USER}:sommer,770", user = "${USER}:sommer,770"}

[[target]]
alias = "stickb"
comment = "USB-Stick Backup-B"
location = "/media/${USER}/BACKUP-B/restix"
scope = "vollstaendig"
credentials = "standard"
access_rights = {year = "${USER}:sommer,770", host = "${USER}:sommer,770", user = "${USER}:sommer,770"}

[[target]]
alias = "nvme"
comment = "externe SSD"
location = "/media/${USER}/58af5a30-36b5-4f0b-bb8f-a70683ae3e7e/restix"
scope ="vollstaendig"
credentials = "standard"
access_rights = {year = "${USER}:sommer,770", host = "${USER}:sommer,770", user = "${USER}:sommer,770"}

[[target]]
alias = "toshiba"
comment = "externe Festplatte"
location = "/media/${USER}/TOSHIBA EXT/restix"
scope = "vollstaendig"
credentials = "standard"
access_rights = {year = "${USER}:sommer,770", host = "${USER}:sommer,770", user = "${USER}:sommer,770"}

[[target]]
alias = "veracrypt"
comment = "verschlüsselte Festplatte"
location = "/media/veracrypt1/restix"
scope = "vollstaendig"
credentials = "standard"
access_rights = {year = "${USER}:sommer,770", host = "${USER}:sommer,770", user = "${USER}:sommer,770"}
