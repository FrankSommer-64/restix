#!/bin/bash

# Erzeugt ein rpm f√ºr eine Python-Applikation.
# Aufruf: build_py_rpm <Projekt> [<Feature-Umfang>]

if [ "$1" == "" ]; then
  echo "Aufruf: build_py_rpm <Projekt> [<Feature-Umfang>]"
  exit 1
fi

if [ "$BUILD_SCRIPTS_PATH" == "" ]; then
  BUILD_SCRIPTS_PATH=$HOME/bin
fi
if [ "$BUILD_PY_VENV_PATH" == "" ]; then
  BUILD_PY_VENV_PATH=$HOME/.python_venv/build
fi
if [ "$SW_PROJECTS_ROOT" == "" ]; then
  SW_PROJECTS_ROOT=$HOME/GITROOT/sw/projects
fi

source $BUILD_PY_VENV_PATH/bin/activate
python3 $BUILD_SCRIPTS_PATH/build_py_rpm.py $BUILD_SCRIPTS_PATH $SW_PROJECTS_ROOT/$1 $2
deactivate
